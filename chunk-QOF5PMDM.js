import{a as x}from"./chunk-QFI5ZUMR.js";import"./chunk-JEBJIWP7.js";import{F as R,e as _,i as b,j as F,m as P,o as M,t as E}from"./chunk-WBYHU4V7.js";import{P as s,Q as p,S as g,_ as a,ca as i,da as o,ea as t,eb as w,ja as f,jb as u,lb as I,mb as C,nb as r,ob as l,sb as v,ta as h,tb as y,yb as S}from"./chunk-TPGHJTJC.js";import"./chunk-SRKNPOHE.js";import"./chunk-7KGURMOZ.js";import"./chunk-BLW5R4XS.js";import"./chunk-XPWJSSAW.js";import"./chunk-WNRD3PDI.js";import"./chunk-QQJWOYZO.js";import"./chunk-MHO3CSUV.js";import"./chunk-4WFVMWDK.js";import"./chunk-XDPEVTHG.js";import"./chunk-NMYJD6OP.js";import"./chunk-C5RQ2IC2.js";import"./chunk-7D2EH4XU.js";import"./chunk-MMIXVVWR.js";import"./chunk-SV7S5NYR.js";import{g as c}from"./chunk-PM2M367S.js";var O=class m{constructor(e,n){this._authService=e;this._route=n}signInForm=new r({});passwordResetForm=new r({});user=null;ngOnInit(){this.createSignInForm(),this.createPasswordResetForm()}createSignInForm(){this.signInForm=new r({email:new l(""),password:new l("")})}createPasswordResetForm(){this.passwordResetForm=new r({email:new l("",u.compose([u.email]))})}onSignIn(){return c(this,null,function*(){try{let{email:e,password:n}=this.signInForm.value;if(this.user=yield this._authService.signIn(e,n),!this.user)throw new Error("User is null or undefined after sign in.");console.log("User signed in successfully:",this.user.email),this.signInForm.reset(),this._route.navigate(["/chore-menu-homepage/chore-homepage"])}catch(e){console.error("Error signing in:",e)}})}onPasswordReset(){return c(this,null,function*(){try{let{email:e}=this.passwordResetForm.value;if(!e)throw new Error("Email is required for password reset.");yield this._authService.sendPasswordResetEmail(e),console.log("Password reset email sent successfully to:",e),this.passwordResetForm.reset()}catch(e){console.error("Error sending password reset email:",e)}})}static \u0275fac=function(n){return new(n||m)(p(x),p(w))};static \u0275cmp=g({type:m,selectors:[["app-sign-in-page"]],decls:24,vars:3,consts:[[1,"topContainer","ion-padding"],[1,"loginHomepageGrid","ion-no-padding"],[1,"ion-justify-content-center","ion-align-items-center"],["sizeLg","5"],["src","./Illustrations/Clouds/sky_clouds.webp"],[1,"emailInputContainer","ion-padding",3,"formGroup"],["sizeLg","5",1,"ion-padding"],["fill","outline","shape","round","type","email","id","signInEmail","formControlName","email","placeholder","Email",1,"input",3,"clearInput"],["fill","outline","shape","round","type","password","id","signUpPassword","formControlName","password","placeholder","Mot de passe",1,"input",3,"clearInput"],["size","auto",1,"ion-text-center"],["expand","block",3,"click"],[1,"bottomContainer","ion-padding"],[1,"illustrationHouseGrid","ion-no-padding"],[1,"ion-justify-content-center","ion-align-items-center","illustrationRow"],["sizeXs","9","sizeSm","5","sizeMd","5","sizeLg","5","sizeXl","5",1,"illustrationCol"],["src","./Illustrations/House/house.webp","alt","house_illustration",1,"houseIllustration"]],template:function(n,d){n&1&&(i(0,"ion-content")(1,"div")(2,"div",0)(3,"ion-grid",1)(4,"ion-row",2)(5,"ion-col",3),t(6,"ion-img",4),o()()()(),i(7,"div",5)(8,"ion-grid")(9,"ion-row",2)(10,"ion-col",6),t(11,"ion-input",7),o()(),i(12,"ion-row",2)(13,"ion-col",6),t(14,"ion-input",8),o()(),i(15,"ion-row",2)(16,"ion-col",9)(17,"ion-button",10),f("click",function(){return d.onSignIn()}),h(18,"Se connecter "),o()()()()(),i(19,"div",11)(20,"ion-grid",12)(21,"ion-row",13)(22,"ion-col",14),t(23,"ion-img",15),o()()()()()()),n&2&&(s(7),a("formGroup",d.signInForm),s(4),a("clearInput",!0),s(3),a("clearInput",!0))},dependencies:[S,I,C,v,y,F,P,E,b,M,_,R],styles:["ion-content[_ngcontent-%COMP%]{--background: #fcf8ed}ion-grid.illustrationHouseGrid[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-end}ion-col.illustrationCol[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}ion-img.houseIllustration[_ngcontent-%COMP%]{width:auto;height:auto}ion-input.input-fill-outline.input-shape-round[_ngcontent-%COMP%]{--border-radius: 10px}ion-input.input[_ngcontent-%COMP%]{--background: #ffffff;--color: #264653}ion-button[_ngcontent-%COMP%]{--background: #264653;--color: #fcf8ed;--border-radius: 12px;width:182px;height:58.9px;font-size:.8rem}div.topContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;height:33vh}div.emailInputContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:33vh}div.bottomContainer[_ngcontent-%COMP%]{display:flex;height:33vh}"]})};export{O as SignInPageComponent};
