import{a as U}from"./chunk-X2GDPISL.js";import{a as B}from"./chunk-UJ3AH5BS.js";import{a as $}from"./chunk-NYWG3EHS.js";import{a as G}from"./chunk-GQQAA7PF.js";import"./chunk-XZMDPNNJ.js";import{$a as w,A as C,G as a,Ga as x,H as n,Ha as T,I as h,K as _,O as v,P as y,Q as k,R as o,S as c,T as d,V as b,W as m,X as p,_ as S,ab as M,bb as O,cb as R,db as F,ea as u,eb as P,fa as I,hb as E,ib as j,jb as z,lb as A,ob as D,sb as L,vb as N,z as g}from"./chunk-SPIVRC24.js";import"./chunk-SRKNPOHE.js";import"./chunk-7KGURMOZ.js";import"./chunk-BLW5R4XS.js";import"./chunk-XPWJSSAW.js";import"./chunk-WNRD3PDI.js";import"./chunk-QQJWOYZO.js";import"./chunk-MHO3CSUV.js";import"./chunk-4WFVMWDK.js";import"./chunk-XDPEVTHG.js";import"./chunk-NMYJD6OP.js";import"./chunk-C5RQ2IC2.js";import"./chunk-7D2EH4XU.js";import"./chunk-MMIXVVWR.js";import"./chunk-SV7S5NYR.js";import{g as r}from"./chunk-PM2M367S.js";var H=(i,e)=>e.uuid;function X(i,e){if(i&1){let t=b();o(0,"ion-col",6)(1,"div",7)(2,"ion-card",4),m("click",function(){let l=g(t).$implicit,f=p(2);return C(f.onTaskSelected(l))}),o(3,"ion-card-content",8)(4,"ion-list",9),d(5,"ion-img",10),o(6,"ion-text",11),u(7),c()()()()()()}if(i&2){let t=e.$implicit;a(5),S("src",t.icon),a(2),I(t.description)}}function q(i,e){if(i&1&&(o(0,"ion-grid",2)(1,"ion-row"),y(2,X,8,2,"ion-col",6,H),c()()),i&2){let t=p();a(2),k(t.tasks)}}var V=class i{constructor(e,t,s,l,f,J){this._activeRoute=e;this._router=t;this._choreCatService=s;this._authService=l;this._famillyService=f;this._databaseService=J;this.userObs=this._authService.user$}tasks;selectedCategory;userObs;user;famillyGroupName="";uid;ngOnInit(){return r(this,null,function*(){this.getTasks(),this.getCategory()})}getTasks(){return r(this,null,function*(){try{let e=this._activeRoute.snapshot.paramMap.get("categoryId");if(!e)throw new Error("Category ID is not provided.");let t=yield this._famillyService.getFamillyGroupName();if(!t)throw new Error("Familly group name is not set.");this.tasks=yield this._databaseService.getAllTasksByCategory(e,t),console.log("Combined tasks:",this.tasks)}catch(e){console.error("Error fetching tasks:",e)}})}getCategory(){return r(this,null,function*(){let e=this._activeRoute.snapshot.paramMap.get("categoryId");e&&(this.selectedCategory=yield this._choreCatService.getCategoryById(e))})}onTaskSelected(e){return r(this,null,function*(){e&&this._router.navigate(["/chore-edition",e.uuid])})}backToCat(){this._router.navigate(["category"])}static \u0275fac=function(t){return new(t||i)(n(x),n(T),n(U),n(G),n($),n(B))};static \u0275cmp=h({type:i,selectors:[["app-chore-task-selection"]],decls:9,vars:1,consts:[[1,"ion-text-center","headerToolbar"],[1,"headerTitle"],[1,"ion-padding"],["slot","fixed","vertical","bottom","horizontal","end"],[3,"click"],["src","./Illustrations/Menu/chore_home_menu_icon.webp"],["sizeXs","6","sizeSm","6","sizeMd","6","sizeLg","3"],[1,"catCardContainer"],[1,"taskCard"],[1,"taskCardList"],[1,"taskIcon",3,"src"],[1,"taskTitle"]],template:function(t,s){t&1&&(o(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-text",1),u(3,"T\xE2ches"),c()()(),o(4,"ion-content"),_(5,q,4,0,"ion-grid",2),o(6,"ion-fab",3)(7,"ion-fab-button",4),m("click",function(){return s.backToCat()}),d(8,"ion-img",5),c()()()),t&2&&(a(5),v(s.tasks?5:-1))},dependencies:[R,E,O,D,w,M,j,N,L,z,A,F,P],styles:["ion-content[_ngcontent-%COMP%]{--background: #fcf8ed}ion-toolbar.headerToolbar[_ngcontent-%COMP%]{--background: #e76f51}ion-card-content.taskCard[_ngcontent-%COMP%]{font-size:.85rem;font-weight:400;font-family:Roboto,sans-serif;width:150px;height:150px;display:flex;justify-content:center;align-items:center;text-align:center}ion-text.taskTitle[_ngcontent-%COMP%]{color:#fcf8ed}ion-text.headerTitle[_ngcontent-%COMP%]{color:#264653;font-family:Roboto,sans-serif;font-weight:700;font-size:1.3rem}ion-card[_ngcontent-%COMP%]{width:150px;height:150px;display:flex;border-radius:20px;--background: #2a9d8f}ion-list.taskCardList[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background:#2a9d8f}ion-img.taskIcon[_ngcontent-%COMP%]{width:70px;height:70px;margin-bottom:12px}div.catCardContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]})};export{V as ChoreTaskSelectionComponent};
