import{a as $}from"./chunk-MSBBXKET.js";import{a as G}from"./chunk-ZKLHUJ5Z.js";import{a as N}from"./chunk-QUF2MSQX.js";import{a as L}from"./chunk-QFI5ZUMR.js";import"./chunk-JEBJIWP7.js";import{A as z,g as w,h as O,i as M,j as R,n as P,o as E,p as F,r as j,u as A,y as D}from"./chunk-EXD6PV5Y.js";import{$ as h,F as g,G as f,P as a,Q as o,S as u,W as C,aa as v,ba as y,ca as n,da as s,db as I,ea as _,eb as T,ia as k,ja as S,ka as l,na as b,ta as d,ua as x}from"./chunk-TPGHJTJC.js";import"./chunk-SRKNPOHE.js";import"./chunk-7KGURMOZ.js";import"./chunk-BLW5R4XS.js";import"./chunk-XPWJSSAW.js";import"./chunk-WNRD3PDI.js";import"./chunk-QQJWOYZO.js";import"./chunk-MHO3CSUV.js";import"./chunk-4WFVMWDK.js";import"./chunk-XDPEVTHG.js";import"./chunk-NMYJD6OP.js";import"./chunk-C5RQ2IC2.js";import"./chunk-7D2EH4XU.js";import"./chunk-MMIXVVWR.js";import"./chunk-SV7S5NYR.js";import{g as r}from"./chunk-PM2M367S.js";var V=(i,e)=>e.uuid;function B(i,e){if(i&1){let t=k();n(0,"ion-col",3)(1,"div",4)(2,"ion-card",5),S("click",function(){let m=g(t).$implicit,p=l(2);return f(p.onTaskSelected(m))}),n(3,"ion-card-content",6)(4,"ion-list",7),_(5,"ion-img",8),n(6,"ion-text",9),d(7),s()()()()()()}if(i&2){let t=e.$implicit;a(5),b("src",t.icon),a(2),x(t.description)}}function H(i,e){if(i&1&&(n(0,"ion-grid",2)(1,"ion-row"),v(2,B,8,2,"ion-col",3,V),s()()),i&2){let t=l();a(2),y(t.tasks)}}var U=class i{constructor(e,t,c,m,p,X){this._activeRoute=e;this._router=t;this._choreCatService=c;this._authService=m;this._famillyService=p;this._databaseService=X;this.userObs=this._authService.user$}tasks;selectedCategory;userObs;user;famillyGroupName="";uid;ngOnInit(){return r(this,null,function*(){this.getTasks(),this.getCategory()})}getTasks(){return r(this,null,function*(){try{let e=this._activeRoute.snapshot.paramMap.get("categoryId");if(!e)throw new Error("Category ID is not provided.");let t=yield this._famillyService.getFamillyGroupName();if(!t)throw new Error("Familly group name is not set.");this.tasks=yield this._databaseService.getAllTasksByCategory(e,t),console.log("Combined tasks:",this.tasks)}catch(e){console.error("Error fetching tasks:",e)}})}getCategory(){return r(this,null,function*(){let e=this._activeRoute.snapshot.paramMap.get("categoryId");e&&(this.selectedCategory=yield this._choreCatService.getCategoryById(e))})}onTaskSelected(e){return r(this,null,function*(){e&&this._router.navigate(["/chore-edition",e.uuid])})}static \u0275fac=function(t){return new(t||i)(o(I),o(T),o($),o(L),o(N),o(G))};static \u0275cmp=u({type:i,selectors:[["app-chore-task-selection"]],decls:6,vars:1,consts:[[1,"ion-text-center","headerToolbar"],[1,"headerTitle"],[1,"ion-padding"],["sizeXs","6","sizeSm","6","sizeMd","6","sizeLg","3"],[1,"catCardContainer"],[3,"click"],[1,"taskCard"],[1,"taskCardList"],[1,"taskIcon",3,"src"],[1,"taskTitle"]],template:function(t,c){t&1&&(n(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-text",1),d(3,"T\xE2ches"),s()()(),n(4,"ion-content"),C(5,H,4,0,"ion-grid",2),s()),t&2&&(a(5),h(c.tasks?5:-1))},dependencies:[R,P,M,A,w,O,E,z,D,F,j],styles:["ion-content[_ngcontent-%COMP%]{--background: #fcf8ed}ion-toolbar.headerToolbar[_ngcontent-%COMP%]{--background: #e76f51}ion-card-content.taskCard[_ngcontent-%COMP%]{font-size:.85rem;font-weight:400;font-family:Roboto,sans-serif;width:150px;height:150px;display:flex;justify-content:center;align-items:center;text-align:center}ion-text.taskTitle[_ngcontent-%COMP%]{color:#fcf8ed}ion-text.headerTitle[_ngcontent-%COMP%]{color:#264653;font-family:Roboto,sans-serif;font-weight:700;font-size:1.3rem}ion-card[_ngcontent-%COMP%]{width:150px;height:150px;display:flex;border-radius:20px;--background: #2a9d8f}ion-list.taskCardList[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background:#2a9d8f}ion-img.taskIcon[_ngcontent-%COMP%]{width:70px;height:70px;margin-bottom:12px}div.catCardContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]})};export{U as ChoreTaskSelectionComponent};
